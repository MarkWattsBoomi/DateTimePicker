(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var s in o)t.o(o,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=React;var o=t.n(e);class s extends o().Component{constructor(t){super(t),this.onChange=t=>{let e=new Date(t.currentTarget.value);var o=6e4*e.getTimezoneOffset();e=new Date(e.getTime()-o),isNaN(e.getTime())?this.props.onChange(""):this.props.onChange(e.toISOString()),this.setState({date:e})},this.getFormatedDate=this.getFormatedDate.bind(this),this.state={date:void 0,inputType:"date"}}componentDidMount(){const t=manywho.model.getComponent(this.props.id,this.props.flowKey),e=manywho.state.getComponent(this.props.id,this.props.flowKey);let o,s,i=!1,a=null,r=!1,n=!1;switch(t.attributes&&(void 0!==t.attributes.useCurrent&&(i=!!manywho.utils.isEqual(t.attributes.useCurrent,"true",!0)),t.attributes.dateTimeFormat&&(a=t.attributes.dateTimeFormat)),a&&(r=-1===a.toLowerCase().indexOf("h")&&-1===a.indexOf("m")&&-1===a.toLowerCase().indexOf("s"),r||(n=(a.toLowerCase().indexOf("h")>-1&&a.indexOf("m")>-1||a.toLowerCase().indexOf("s")>-1)&&-1===a.toLowerCase().indexOf("y")&&-1===a.toLowerCase().indexOf("d")&&-1===a.indexOf("M"))),t.autoFocus&&this.datePicker.focus(),!0){case r:o="date";break;case n:o="time";break;default:o="datetime-local"}e.contentValue&&(s=new Date(e.contentValue)),isNaN(null==s?void 0:s.getTime())&&(s=!0===i?new Date:void 0),this.setState({date:s,inputType:o})}componentDidUpdate(){""===this.props.value||this.props.value}getFormatedDate(){var t,e,o,s,i,a;let r;if(this.state.date&&!isNaN(this.state.date.getTime()))switch(this.state.inputType){case"date":r=null===(e=null===(t=this.state)||void 0===t?void 0:t.date)||void 0===e?void 0:e.toISOString().substring(0,10);break;case"time":r=null===(s=null===(o=this.state)||void 0===o?void 0:o.date)||void 0===s?void 0:s.toISOString().substring(11,17);break;default:r=null===(a=null===(i=this.state)||void 0===i?void 0:i.date)||void 0===a?void 0:a.toISOString().substring(0,16)}return r}render(){const t=manywho.model.getComponent(this.props.id,this.props.flowKey);return o().createElement("input",{id:this.props.id,placeholder:this.props.placeholder,className:"form-control datepicker",ref:t=>{this.datePicker=t},type:this.state.inputType,size:this.props.size,readOnly:this.props.readOnly,disabled:this.props.disabled,required:this.props.required,onBlur:this.props.onBlur,autoComplete:this.props.autoComplete,autoFocus:t.autoFocus,onChange:this.onChange,value:this.getFormatedDate()})}}manywho.component.register("input-datetime",s)})();